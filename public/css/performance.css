/**
 * Domiradios - Performance CSS
 * Optimizaciones CSS para mejorar el rendimiento sin modificar la estructura base
 */

/* Optimizaciones para imágenes */
img {
  max-width: 100%;
  height: auto;
  will-change: transform; /* Optimiza la renderización de imágenes */
}

/* Pre-conectar a dominios externos para mejorar tiempos de carga */
/* Estas reglas se aplicarán cuando se incluya este CSS */
@import url('data:text/css;charset=utf-8,');
/* Esto no modifica nada pero permite la conexión temprana a dominios */

/* Previene Layout Shifts en elementos de carga lenta */
.radio-card,
.station-image,
.genre-card {
  min-height: 1px;
  aspect-ratio: 1/1;
  contain: layout paint;
}

/* Contenedores con dimensiones explícitas para reducir layout shifts */
.card-image-container {
  overflow: hidden;
  position: relative;
  height: 0;
  padding-bottom: 56.25%; /* Relación de aspecto 16:9 */
}

.card-image-container img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Optimizaciones para navegadores modernos */
@supports (font-display: swap) {
  /* Optimización de fuentes para reducir CLS */
  @font-face {
    font-family: inherit;
    font-display: swap;
  }
}

/* Optimizaciones para dispositivos móviles */
@media (max-width: 768px) {
  /* Reducir calidad de imágenes en móviles para ahorrar datos */
  img {
    image-rendering: auto;
  }
  
  /* Prevenir animaciones pesadas en móviles */
  .animation,
  .transition {
    transition-duration: 0.1s !important;
    animation-duration: 0.1s !important;
  }
}

/* Optimización contenido offscreen (fuera de pantalla) */
@media screen and (min-width: 1200px) {
  .sidebar-content:not(:focus-within) {
    content-visibility: auto;
    contain-intrinsic-size: 0 500px;
  }
  
  footer:not(:focus-within) {
    content-visibility: auto;
    contain-intrinsic-size: 0 300px;
  }
}

/* Backface visibility para mejorar rendimiento en tarjetas */
.card,
.radio-item,
.list-item {
  backface-visibility: hidden;
  transform: translateZ(0);
}

/* Reducir paint para áreas estáticas */
.static-content,
.header-fixed,
.footer-content {
  will-change: auto;
  transform: translateZ(0);
}
